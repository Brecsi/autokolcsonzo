--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.2.23.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 2023. 05. 10. 9:14:31
-- Server version: 5.5.5-10.4.27-MariaDB
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

DROP DATABASE IF EXISTS autokolcsonzo;

CREATE DATABASE IF NOT EXISTS autokolcsonzo
	CHARACTER SET utf8
	COLLATE utf8_hungarian_ci;

--
-- Set default database
--
USE autokolcsonzo;

--
-- Create table `loaners`
--
CREATE TABLE IF NOT EXISTS loaners (
  id INT(11) NOT NULL AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL,
  licenseNum VARCHAR(15) NOT NULL,
  phoneNum VARCHAR(15) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 11,
AVG_ROW_LENGTH = 1638,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create table `cars`
--
CREATE TABLE IF NOT EXISTS cars (
  id INT(11) NOT NULL AUTO_INCREMENT,
  license VARCHAR(7) NOT NULL,
  type VARCHAR(100) NOT NULL,
  year INT(11) DEFAULT NULL,
  color VARCHAR(30) DEFAULT NULL,
  dailyRate INT(11) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 11,
AVG_ROW_LENGTH = 1638,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create index `license` on table `cars`
--
ALTER TABLE cars 
  ADD UNIQUE INDEX license(license);

--
-- Create table `loans`
--
CREATE TABLE IF NOT EXISTS loans (
  id INT(11) NOT NULL AUTO_INCREMENT,
  loanId INT(11) DEFAULT NULL,
  carId INT(11) DEFAULT NULL,
  loanStart DATE NOT NULL,
  numberOfDays INT(11) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 7,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE loans 
  ADD CONSTRAINT FK_loans_cars_id FOREIGN KEY (carId)
    REFERENCES cars(id);

--
-- Create foreign key
--
ALTER TABLE loans 
  ADD CONSTRAINT FK_loans_loaners_id FOREIGN KEY (loanId)
    REFERENCES loaners(id);

--
-- Create table `users`
--
CREATE TABLE IF NOT EXISTS users (
  id INT(11) NOT NULL AUTO_INCREMENT,
  firstName VARCHAR(255) DEFAULT NULL,
  lastName VARCHAR(255) DEFAULT NULL,
  gender VARCHAR(255) DEFAULT NULL,
  userName VARCHAR(255) DEFAULT NULL,
  email VARCHAR(50) DEFAULT NULL,
  password VARCHAR(255) DEFAULT NULL,
  number INT(11) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 2,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create index `email` on table `users`
--
ALTER TABLE users 
  ADD UNIQUE INDEX email(email);

--
-- Create index `userName` on table `users`
--
ALTER TABLE users 
  ADD UNIQUE INDEX userName(userName);

-- 
-- Dumping data for table loaners
--
INSERT INTO loaners VALUES
(1, 'Nagy Béla', '536012056314012', '705519280'),
(2, 'Kiss János', '509234527416861', '306571231'),
(3, 'Fekete Pál', '185512685049050', '204458163'),
(4, 'Nagy Károly', '684811260235354', '309976544'),
(5, 'Beton Károly', '116098956271829', '703217455'),
(6, 'Pogány Krisztián', '190532681943455', '208893327'),
(7, 'Kiss Bertalan', '890426785007182', '708839214'),
(8, 'Nádas Péter', '182666784821177', '306659321'),
(9, 'Rigó Zoltán', '099796949378155', '205764585'),
(10, 'Nagy Péter', '587259761216499', '304518753');

-- 
-- Dumping data for table cars
--
INSERT INTO cars VALUES
(1, 'KFH-271', 'Volkswagen', 2003, 'Black', 25000),
(2, 'OEJ-813', 'Mercedes', 2018, 'Grey', 17000),
(3, 'AXE-809', 'BMW', 2022, 'Black', 32000),
(4, 'KEG-600', 'Ford', 2001, 'Blue', 15000),
(5, 'BFG-915', 'Suzuki', 1999, 'Red', 10000),
(6, 'LKE-642', 'Peugeot', 2005, 'Blue', 14000),
(7, 'KYR-241', 'Cadillac', 2018, 'White', 32000),
(8, 'HJY-381', 'Daewoo', 1997, 'Green', 10000),
(9, 'ABU-885', 'Koenigsegg', 2020, 'Yellow', 40000),
(10, 'SKY-845', 'Nissan', 2004, 'Blue', 16000);

-- 
-- Dumping data for table users
--
INSERT INTO users VALUES
(1, 'admin', 'admin', 'male', 'admin', 'admin@gmail.com', '123', 1);

-- 
-- Dumping data for table loans
--
INSERT INTO loans VALUES
(1, 1, 3, '2023-01-05', 21),
(2, 4, 2, '2023-02-10', NULL),
(3, 8, 1, '2022-12-22', NULL),
(4, 5, 5, '2022-12-10', 40),
(5, 3, 3, '2022-11-12', 25),
(6, 2, 2, '2020-01-01', 32);

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;